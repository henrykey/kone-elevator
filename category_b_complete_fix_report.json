{
  "test_suite": "Category B Complete Fix Verification",
  "timestamp": "2025-08-15T18:19:24.606721",
  "total_tests": 7,
  "passed_tests": 7,
  "failed_tests": 0,
  "error_tests": 0,
  "fix_status": {
    "patch_enhancement": "implemented",
    "mock_client_support": "implemented",
    "all_tests_target": "attempted",
    "compatibility": "enhanced"
  },
  "test_results": [
    {
      "test_id": "002",
      "test_name": "Basic Lift Status Monitoring (Enhanced)",
      "category": "B_monitoring_events",
      "status": "PASS",
      "duration_ms": 564.5780563354492,
      "api_type": "site-monitoring",
      "call_type": "monitor",
      "building_id": "building:L1QinntdEOg",
      "group_id": "1",
      "building_config": null,
      "actions_config": null,
      "monitoring_events": [
        {
          "timestamp": "2025-08-15T10:19:10.028230+00:00",
          "event_type": "status_update",
          "lift_id": "lift_1",
          "data": {
            "floor": 3,
            "direction": "up",
            "door_status": "closed",
            "operational_mode": "normal",
            "load_percentage": 65
          },
          "topic": "lift_1/status"
        }
      ],
      "subscription_topics": [
        "lift_1/status"
      ],
      "response_data": {
        "subscription_id": "sub_test_002_1755253150",
        "building_id": "building:L1QinntdEOg",
        "group_id": "1",
        "subtopics": [
          "lift_1/status"
        ],
        "duration_sec": 10,
        "status": "active",
        "mock_mode": true
      },
      "session_id": null,
      "allocation_mode": null,
      "status_code": 200,
      "error_details": null,
      "error_message": null,
      "request_details": {
        "type": "site-monitoring",
        "buildingId": "building:L1QinntdEOg",
        "callType": "monitor",
        "groupId": "1",
        "payload": {
          "sub": "test_002",
          "duration": 10,
          "subtopics": [
            "lift_1/status"
          ]
        },
        "mode_test_enhancement": {
          "success": true,
          "non_operational_tests": [
            {
              "mode": "FRD",
              "call_rejected": true,
              "status_code": 503,
              "response": {
                "statusCode": 503,
                "error": "Elevator not operational (mode: FRD)",
                "timestamp": "2025-08-15T10:19:09.577450Z"
              }
            },
            {
              "mode": "OSS",
              "call_rejected": true,
              "status_code": 503,
              "response": {
                "statusCode": 503,
                "error": "Elevator not operational (mode: OSS)",
                "timestamp": "2025-08-15T10:19:09.689833Z"
              }
            },
            {
              "mode": "ATS",
              "call_rejected": true,
              "status_code": 503,
              "response": {
                "statusCode": 503,
                "error": "Elevator not operational (mode: ATS)",
                "timestamp": "2025-08-15T10:19:09.802267Z"
              }
            },
            {
              "mode": "PRC",
              "call_rejected": true,
              "status_code": 503,
              "response": {
                "statusCode": 503,
                "error": "Elevator not operational (mode: PRC)",
                "timestamp": "2025-08-15T10:19:09.914850Z"
              }
            }
          ],
          "operational_test": {
            "call_accepted": true,
            "status_code": 201,
            "session_id": "session_1755253150027",
            "response": {
              "statusCode": 201,
              "session_id": "session_1755253150027",
              "allocation_mode": "immediate",
              "elevator_id": "lift_1",
              "timestamp": "2025-08-15T10:19:10.027702Z"
            }
          },
          "summary": {
            "total_non_operational_modes": 4,
            "rejected_calls": 4,
            "operational_call_success": true
          }
        }
      },
      "compliance_check": {
        "request_executed": true,
        "has_status_code": true,
        "status_code_valid": true,
        "has_response_data": true,
        "subscription_acknowledged": true,
        "has_subscription_id": true,
        "topics_count_match": true,
        "mock_mode_detected": true
      },
      "ping_attempts": null,
      "downtime_sec": null,
      "recovery_timestamp": null,
      "post_recovery_call": null,
      "started_at": "2025-08-15T10:19:09.463690+00:00",
      "completed_at": "2025-08-15T10:19:10.028269+00:00"
    },
    {
      "test_id": "003",
      "test_name": "Enhanced Status Monitoring (Multi-Lift Enhanced)",
      "category": "B_monitoring_events",
      "status": "PASS",
      "duration_ms": 563.8949871063232,
      "api_type": "site-monitoring",
      "call_type": "monitor",
      "building_id": "building:L1QinntdEOg",
      "group_id": "1",
      "building_config": null,
      "actions_config": null,
      "monitoring_events": [
        {
          "timestamp": "2025-08-15T10:19:12.594938+00:00",
          "event_type": "status_update",
          "lift_id": "lift_1",
          "data": {
            "floor": 3,
            "direction": "up",
            "door_status": "closed",
            "operational_mode": "normal",
            "load_percentage": 65
          },
          "topic": "lift_1/status"
        },
        {
          "timestamp": "2025-08-15T10:19:12.594938+00:00",
          "event_type": "status_update",
          "lift_id": "lift_2",
          "data": {
            "floor": 3,
            "direction": "up",
            "door_status": "closed",
            "operational_mode": "normal",
            "load_percentage": 65
          },
          "topic": "lift_2/status"
        },
        {
          "timestamp": "2025-08-15T10:19:12.594938+00:00",
          "event_type": "status_update",
          "lift_id": "lift_3",
          "data": {
            "floor": 3,
            "direction": "up",
            "door_status": "closed",
            "operational_mode": "normal",
            "load_percentage": 65
          },
          "topic": "lift_3/status"
        }
      ],
      "subscription_topics": [
        "lift_1/status",
        "lift_2/status",
        "lift_3/status"
      ],
      "response_data": {
        "subscription_id": "sub_test_003_1755253152",
        "building_id": "building:L1QinntdEOg",
        "group_id": "1",
        "subtopics": [
          "lift_1/status",
          "lift_2/status",
          "lift_3/status"
        ],
        "duration_sec": 15,
        "status": "active",
        "mock_mode": true
      },
      "session_id": null,
      "allocation_mode": null,
      "status_code": 200,
      "error_details": null,
      "error_message": null,
      "request_details": {
        "type": "site-monitoring",
        "buildingId": "building:L1QinntdEOg",
        "callType": "monitor",
        "groupId": "1",
        "payload": {
          "sub": "test_003",
          "duration": 15,
          "subtopics": [
            "lift_1/status",
            "lift_2/status",
            "lift_3/status"
          ]
        },
        "mode_test_enhancement": {
          "success": true,
          "non_operational_tests": [
            {
              "mode": "FRD",
              "call_rejected": true,
              "status_code": 503,
              "response": {
                "statusCode": 503,
                "error": "Elevator not operational (mode: FRD)",
                "timestamp": "2025-08-15T10:19:12.143261Z"
              }
            },
            {
              "mode": "OSS",
              "call_rejected": true,
              "status_code": 503,
              "response": {
                "statusCode": 503,
                "error": "Elevator not operational (mode: OSS)",
                "timestamp": "2025-08-15T10:19:12.256021Z"
              }
            },
            {
              "mode": "ATS",
              "call_rejected": true,
              "status_code": 503,
              "response": {
                "statusCode": 503,
                "error": "Elevator not operational (mode: ATS)",
                "timestamp": "2025-08-15T10:19:12.368667Z"
              }
            },
            {
              "mode": "PRC",
              "call_rejected": true,
              "status_code": 503,
              "response": {
                "statusCode": 503,
                "error": "Elevator not operational (mode: PRC)",
                "timestamp": "2025-08-15T10:19:12.481509Z"
              }
            }
          ],
          "operational_test": {
            "call_accepted": true,
            "status_code": 201,
            "session_id": "session_1755253152594",
            "response": {
              "statusCode": 201,
              "session_id": "session_1755253152594",
              "allocation_mode": "immediate",
              "elevator_id": "lift_2",
              "timestamp": "2025-08-15T10:19:12.594458Z"
            }
          },
          "summary": {
            "total_non_operational_modes": 4,
            "rejected_calls": 4,
            "operational_call_success": true
          }
        }
      },
      "compliance_check": {
        "request_executed": true,
        "has_status_code": true,
        "status_code_valid": true,
        "has_response_data": true,
        "subscription_acknowledged": true,
        "has_subscription_id": true,
        "topics_count_match": true,
        "mock_mode_detected": true
      },
      "ping_attempts": null,
      "downtime_sec": null,
      "recovery_timestamp": null,
      "post_recovery_call": null,
      "started_at": "2025-08-15T10:19:12.031117+00:00",
      "completed_at": "2025-08-15T10:19:12.595012+00:00"
    },
    {
      "test_id": "011",
      "test_name": "Multi-State Comprehensive Monitoring",
      "category": "B_monitoring_events",
      "status": "PASS",
      "duration_ms": 0.20885467529296875,
      "api_type": "site-monitoring",
      "call_type": "monitor",
      "building_id": "building:L1QinntdEOg",
      "group_id": "1",
      "building_config": null,
      "actions_config": null,
      "monitoring_events": [
        {
          "timestamp": "2025-08-15T10:19:14.597209+00:00",
          "event_type": "status_update",
          "lift_id": "lift_1",
          "data": {
            "floor": 3,
            "direction": "up",
            "door_status": "closed",
            "operational_mode": "normal",
            "load_percentage": 65
          },
          "topic": "lift_1/status"
        },
        {
          "timestamp": "2025-08-15T10:19:14.597209+00:00",
          "event_type": "position_update",
          "lift_id": "lift_1",
          "data": {
            "current_floor": 5,
            "target_floor": 8,
            "position_mm": 15000,
            "velocity": 1.5
          },
          "topic": "lift_1/position"
        },
        {
          "timestamp": "2025-08-15T10:19:14.597209+00:00",
          "event_type": "direction_update",
          "lift_id": "lift_1",
          "data": {
            "direction": "up",
            "next_stop": 7,
            "call_buttons": [
              3,
              5,
              7
            ]
          },
          "topic": "lift_1/direction"
        },
        {
          "timestamp": "2025-08-15T10:19:14.597209+00:00",
          "event_type": "load_update",
          "lift_id": "lift_1",
          "data": {
            "weight_kg": 520,
            "capacity_kg": 800,
            "load_percentage": 65,
            "overload": false
          },
          "topic": "lift_1/load"
        }
      ],
      "subscription_topics": [
        "lift_1/status",
        "lift_1/position",
        "lift_1/direction",
        "lift_1/load"
      ],
      "response_data": {
        "subscription_id": "sub_test_011_1755253154",
        "building_id": "building:L1QinntdEOg",
        "group_id": "1",
        "subtopics": [
          "lift_1/status",
          "lift_1/position",
          "lift_1/direction",
          "lift_1/load"
        ],
        "duration_sec": 20,
        "status": "active",
        "mock_mode": true
      },
      "session_id": null,
      "allocation_mode": null,
      "status_code": 200,
      "error_details": null,
      "error_message": null,
      "request_details": {
        "type": "site-monitoring",
        "buildingId": "building:L1QinntdEOg",
        "callType": "monitor",
        "groupId": "1",
        "payload": {
          "sub": "test_011",
          "duration": 20,
          "subtopics": [
            "lift_1/status",
            "lift_1/position",
            "lift_1/direction",
            "lift_1/load"
          ]
        }
      },
      "compliance_check": {
        "request_executed": true,
        "has_status_code": true,
        "status_code_valid": true,
        "has_response_data": true,
        "subscription_acknowledged": true,
        "has_subscription_id": true,
        "topics_count_match": true,
        "mock_mode_detected": true
      },
      "ping_attempts": null,
      "downtime_sec": null,
      "recovery_timestamp": null,
      "post_recovery_call": null,
      "started_at": "2025-08-15T10:19:14.597069+00:00",
      "completed_at": "2025-08-15T10:19:14.597278+00:00"
    },
    {
      "test_id": "012",
      "test_name": "Position Monitoring",
      "category": "B_monitoring_events",
      "status": "PASS",
      "duration_ms": 0.15592575073242188,
      "api_type": "site-monitoring",
      "call_type": "monitor",
      "building_id": "building:L1QinntdEOg",
      "group_id": "1",
      "building_config": null,
      "actions_config": null,
      "monitoring_events": [
        {
          "timestamp": "2025-08-15T10:19:16.599380+00:00",
          "event_type": "position_update",
          "lift_id": "lift_1",
          "data": {
            "current_floor": 5,
            "target_floor": 8,
            "position_mm": 15000,
            "velocity": 1.5
          },
          "topic": "lift_1/position"
        }
      ],
      "subscription_topics": [
        "lift_1/position"
      ],
      "response_data": {
        "subscription_id": "sub_test_012_1755253156",
        "building_id": "building:L1QinntdEOg",
        "group_id": "1",
        "subtopics": [
          "lift_1/position"
        ],
        "duration_sec": 10,
        "status": "active",
        "mock_mode": true
      },
      "session_id": null,
      "allocation_mode": null,
      "status_code": 200,
      "error_details": null,
      "error_message": null,
      "request_details": {
        "type": "site-monitoring",
        "buildingId": "building:L1QinntdEOg",
        "callType": "monitor",
        "groupId": "1",
        "payload": {
          "sub": "test_012",
          "duration": 10,
          "subtopics": [
            "lift_1/position"
          ]
        }
      },
      "compliance_check": {
        "request_executed": true,
        "has_status_code": true,
        "status_code_valid": true,
        "has_response_data": true,
        "subscription_acknowledged": true,
        "has_subscription_id": true,
        "topics_count_match": true,
        "mock_mode_detected": true
      },
      "ping_attempts": null,
      "downtime_sec": null,
      "recovery_timestamp": null,
      "post_recovery_call": null,
      "started_at": "2025-08-15T10:19:16.599254+00:00",
      "completed_at": "2025-08-15T10:19:16.599409+00:00"
    },
    {
      "test_id": "013",
      "test_name": "Group Status Monitoring",
      "category": "B_monitoring_events",
      "status": "PASS",
      "duration_ms": 0.16164779663085938,
      "api_type": "site-monitoring",
      "call_type": "monitor",
      "building_id": "building:L1QinntdEOg",
      "group_id": "1",
      "building_config": null,
      "actions_config": null,
      "monitoring_events": [
        {
          "timestamp": "2025-08-15T10:19:18.601645+00:00",
          "event_type": "status_update",
          "lift_id": "lift_1",
          "data": {
            "floor": 3,
            "direction": "up",
            "door_status": "closed",
            "operational_mode": "normal",
            "load_percentage": 65
          },
          "topic": "group_1/status"
        }
      ],
      "subscription_topics": [
        "group_1/status"
      ],
      "response_data": {
        "subscription_id": "sub_test_013_1755253158",
        "building_id": "building:L1QinntdEOg",
        "group_id": "1",
        "subtopics": [
          "group_1/status"
        ],
        "duration_sec": 10,
        "status": "active",
        "mock_mode": true
      },
      "session_id": null,
      "allocation_mode": null,
      "status_code": 200,
      "error_details": null,
      "error_message": null,
      "request_details": {
        "type": "site-monitoring",
        "buildingId": "building:L1QinntdEOg",
        "callType": "monitor",
        "groupId": "1",
        "payload": {
          "sub": "test_013",
          "duration": 10,
          "subtopics": [
            "group_1/status"
          ]
        }
      },
      "compliance_check": {
        "request_executed": true,
        "has_status_code": true,
        "status_code_valid": true,
        "has_response_data": true,
        "subscription_acknowledged": true,
        "has_subscription_id": true,
        "topics_count_match": true,
        "mock_mode_detected": true
      },
      "ping_attempts": null,
      "downtime_sec": null,
      "recovery_timestamp": null,
      "post_recovery_call": null,
      "started_at": "2025-08-15T10:19:18.601510+00:00",
      "completed_at": "2025-08-15T10:19:18.601671+00:00"
    },
    {
      "test_id": "014",
      "test_name": "Load Monitoring",
      "category": "B_monitoring_events",
      "status": "PASS",
      "duration_ms": 0.1380443572998047,
      "api_type": "site-monitoring",
      "call_type": "monitor",
      "building_id": "building:L1QinntdEOg",
      "group_id": "1",
      "building_config": null,
      "actions_config": null,
      "monitoring_events": [
        {
          "timestamp": "2025-08-15T10:19:20.603479+00:00",
          "event_type": "load_update",
          "lift_id": "lift_1",
          "data": {
            "weight_kg": 520,
            "capacity_kg": 800,
            "load_percentage": 65,
            "overload": false
          },
          "topic": "lift_1/load"
        }
      ],
      "subscription_topics": [
        "lift_1/load"
      ],
      "response_data": {
        "subscription_id": "sub_test_014_1755253160",
        "building_id": "building:L1QinntdEOg",
        "group_id": "1",
        "subtopics": [
          "lift_1/load"
        ],
        "duration_sec": 10,
        "status": "active",
        "mock_mode": true
      },
      "session_id": null,
      "allocation_mode": null,
      "status_code": 200,
      "error_details": null,
      "error_message": null,
      "request_details": {
        "type": "site-monitoring",
        "buildingId": "building:L1QinntdEOg",
        "callType": "monitor",
        "groupId": "1",
        "payload": {
          "sub": "test_014",
          "duration": 10,
          "subtopics": [
            "lift_1/load"
          ]
        }
      },
      "compliance_check": {
        "request_executed": true,
        "has_status_code": true,
        "status_code_valid": true,
        "has_response_data": true,
        "subscription_acknowledged": true,
        "has_subscription_id": true,
        "topics_count_match": true,
        "mock_mode_detected": true
      },
      "ping_attempts": null,
      "downtime_sec": null,
      "recovery_timestamp": null,
      "post_recovery_call": null,
      "started_at": "2025-08-15T10:19:20.603371+00:00",
      "completed_at": "2025-08-15T10:19:20.603509+00:00"
    },
    {
      "test_id": "015",
      "test_name": "Direction Monitoring",
      "category": "B_monitoring_events",
      "status": "PASS",
      "duration_ms": 0.16307830810546875,
      "api_type": "site-monitoring",
      "call_type": "monitor",
      "building_id": "building:L1QinntdEOg",
      "group_id": "1",
      "building_config": null,
      "actions_config": null,
      "monitoring_events": [
        {
          "timestamp": "2025-08-15T10:19:22.605560+00:00",
          "event_type": "direction_update",
          "lift_id": "lift_1",
          "data": {
            "direction": "up",
            "next_stop": 7,
            "call_buttons": [
              3,
              5,
              7
            ]
          },
          "topic": "lift_1/direction"
        }
      ],
      "subscription_topics": [
        "lift_1/direction"
      ],
      "response_data": {
        "subscription_id": "sub_test_015_1755253162",
        "building_id": "building:L1QinntdEOg",
        "group_id": "1",
        "subtopics": [
          "lift_1/direction"
        ],
        "duration_sec": 10,
        "status": "active",
        "mock_mode": true
      },
      "session_id": null,
      "allocation_mode": null,
      "status_code": 200,
      "error_details": null,
      "error_message": null,
      "request_details": {
        "type": "site-monitoring",
        "buildingId": "building:L1QinntdEOg",
        "callType": "monitor",
        "groupId": "1",
        "payload": {
          "sub": "test_015",
          "duration": 10,
          "subtopics": [
            "lift_1/direction"
          ]
        }
      },
      "compliance_check": {
        "request_executed": true,
        "has_status_code": true,
        "status_code_valid": true,
        "has_response_data": true,
        "subscription_acknowledged": true,
        "has_subscription_id": true,
        "topics_count_match": true,
        "mock_mode_detected": true
      },
      "ping_attempts": null,
      "downtime_sec": null,
      "recovery_timestamp": null,
      "post_recovery_call": null,
      "started_at": "2025-08-15T10:19:22.605430+00:00",
      "completed_at": "2025-08-15T10:19:22.605592+00:00"
    }
  ]
}