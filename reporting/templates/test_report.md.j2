# KONE SR-API v2.0 éªŒè¯æµ‹è¯•æŠ¥å‘Š

## æµ‹è¯•æ¦‚è§ˆ

- **æ‰§è¡Œæ—¶é—´**: {{ started_at }} - {{ completed_at }}
- **æ€»æµ‹è¯•æ•°**: {{ total_tests }}
- **é€šè¿‡**: {{ passed_tests }} ({{ "%.1f"|format(success_rate) }}%)
- **å¤±è´¥**: {{ failed_tests }}
- **é”™è¯¯**: {{ error_tests }}
- **è·³è¿‡**: {{ skipped_tests }}
- **æ€»è€—æ—¶**: {{ "%.2f"|format(total_duration_ms/1000) }}ç§’

## åˆ†ç±»æµ‹è¯•ç»“æœ

{% for category, suite in test_suites.items() %}
### {{ category }}

- **é€šè¿‡ç‡**: {{ "%.1f"|format(suite.get_success_rate()) }}%
- **è€—æ—¶**: {{ "%.2f"|format(suite.total_duration_ms/1000) }}ç§’

{% for test in suite.test_results %}
#### Test {{ test.test_id }}: {{ test.test_name }}

- **çŠ¶æ€**: {% if test.status == "PASS" %}âœ… PASS{% elif test.status == "FAIL" %}âŒ FAIL{% elif test.status == "ERROR" %}ğŸ”¥ ERROR{% else %}â­ï¸ SKIP{% endif %}
- **APIç±»å‹**: {{ test.api_type }}
- **è°ƒç”¨ç±»å‹**: {{ test.call_type }}
- **è€—æ—¶**: {{ "%.0f"|format(test.duration_ms) }}ms
- **å»ºç­‘ID**: {{ test.building_id }}

{% if test.request_details %}
**è¯·æ±‚è¯¦æƒ…**:
```json
{{ test.request_details | tojson(indent=2) }}
```
{% endif %}

{% if test.response_data %}
**å“åº”è¯¦æƒ…**:
- **çŠ¶æ€ç **: {{ test.status_code }}
{% if test.session_id %}
- **ä¼šè¯ID**: {{ test.session_id }}
{% endif %}
{% if test.allocation_mode %}
- **åˆ†é…æ¨¡å¼**: {{ test.allocation_mode }}
{% endif %}
{% endif %}

{% if test.monitoring_events %}
**ç›‘æ§äº‹ä»¶**: æ”¶åˆ° {{ test.monitoring_events|length }} ä¸ªäº‹ä»¶
{% endif %}

{% if test.error_details %}
**é”™è¯¯è¯¦æƒ…**:
```
{{ test.error_message }}
```
{% endif %}

{% if test.compliance_check %}
**åˆè§„æ€§æ£€æŸ¥**:
{% for check, result in test.compliance_check.items() %}
- {{ check }}: {% if result %}âœ…{% else %}âŒ{% endif %}
{% endfor %}
{% endif %}

---

{% endfor %}
{% endfor %}

## åˆè§„æ€§æ€»ç»“

æœ¬æŠ¥å‘Šä¸¥æ ¼æŒ‰ç…§ `elevator-websocket-api-v2.yaml` è§„èŒƒæ‰§è¡Œæµ‹è¯•ï¼Œç¡®ä¿ï¼š

1. **è¯·æ±‚æ ¼å¼åˆè§„**: æ‰€æœ‰è¯·æ±‚åŒ…å«å¿…éœ€å­—æ®µ (type, buildingId, groupId, callType, payload)
2. **å“åº”å¤„ç†æ­£ç¡®**: æ­£ç¡®è§£æçŠ¶æ€ç ã€ä¼šè¯IDã€åˆ†é…æ¨¡å¼ç­‰å­—æ®µ
3. **æ—¶é—´æ ¼å¼æ ‡å‡†**: ä½¿ç”¨ ISO-8601 UTC æ—¶é—´æ ¼å¼
4. **é”™è¯¯å¤„ç†å®Œå–„**: æ˜ å°„æ ‡å‡†é”™è¯¯ç å¹¶æä¾›è¯¦ç»†é”™è¯¯ä¿¡æ¯

## å»ºè®®äº‹é¡¹

{% if failed_tests > 0 or error_tests > 0 %}
âš ï¸ **éœ€è¦å…³æ³¨çš„é—®é¢˜**:
{% for category, suite in test_suites.items() %}
{% for test in suite.test_results %}
{% if test.status in ["FAIL", "ERROR"] %}
- {{ test.test_id }}: {{ test.error_message or "æµ‹è¯•å¤±è´¥" }}
{% endif %}
{% endfor %}
{% endfor %}
{% endif %}

---
*æŠ¥å‘Šç”Ÿæˆæ—¶é—´: {{ generated_at }}*  
*Author: IBC-AI CO.*
